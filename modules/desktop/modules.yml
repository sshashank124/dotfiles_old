xorg:
  requires:
    - installed: startx

  import_context:
    from_path: xorg/context.yml

  compile:
    - content: xorg/t.xinitrc
      target: $HOME/.xinitrc
    - content: xorg/t.fonts.conf
      target: $XDG_CONFIG_HOME/fontconfig/fonts.conf

  symlink:
    - content: xorg/user-dirs.dirs
      target: $XDG_CONFIG_HOME/user-dirs.dirs
    - content: xorg/meslo-powerline.ttf
      target: $HOME/.local/share/fonts/meslo-powerline.ttf

    - content: xorg/wallpaper_apply
      target: {{ host.user.paths.bin }}/wallpaper_apply
    - content: {{ host.user.paths.bin }}/wallpaper_apply
      target: {{ host.user.paths.display_init }}/wallpaper_apply

    - content: xorg/xkb_ctrl_caps_swap
      target: {{ host.user.paths.bin }}/xkb_ctrl_caps_swap
    - content: {{ host.user.paths.bin }}/xkb_ctrl_caps_swap
      target: {{ host.user.paths.display_init }}/xkb_ctrl_caps_swap

    - content: xorg/xcursor_default
      target: {{ host.user.paths.bin }}/xcursor_default
    - content: {{ host.user.paths.bin }}/xcursor_default
      target: {{ host.user.paths.display_init }}/xcursor_default
