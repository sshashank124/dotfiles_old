compton:
  requires:
    - module: desktop::xorg
    - installed: compton

  compile:
    - content: compton/t.daemon_compton
      target: {{ host.user.paths.bin }}/daemon_compton
      permissions: +x

  symlink:
    - content: compton/compton.conf
      target: {{ host.user.paths.config }}/compton/compton.conf
    - content: {{ host.user.paths.bin }}/daemon_compton
      target: {{ host.user.paths.display_init }}/daemon_compton
